<style>
body {
	background-color:#1C1C1C;
	margin:0px 0px 0px 0px;
}
</style>
<html>
	<body>
		<img src="img/bg.png" alt="Chromote" usemap ="#remote" />
		
		<map name="remote">
			<area shape="rect" href="#" coords="5,6,30,23" onMousedown="mousedown()" onMouseup="mouseup('power')" alt="power" />
			
			<area shape="rect" href="#" coords="37,64,78,97" onMousedown="mousedown()" onMouseup="mouseup('ok')" alt="ok" />
			<area shape="rect" href="#" coords="37,46,74,62" onMousedown="mousedown()" onMouseup="mouseup('up')" alt="up" />
			<area shape="rect" href="#" coords="80,65,97,97" onMousedown="mousedown()" onMouseup="mouseup('right')" alt="right" />
			<area shape="rect" href="#" coords="18,66,33,93" onMousedown="mousedown()" onMouseup="mouseup('left')" alt="left" />
			<area shape="rect" href="#" coords="42,104,76,118" onMousedown="mousedown()" onMouseup="mouseup('down')" alt="down" />
			
			<area shape="rect" href="#" coords="31,134,85,163" onMousedown="mousedown()" onMouseup="mouseup('home')" alt="free" />
			
			<area shape="rect" href="#" coords="18,173,47,210" onMousedown="mousedown()" onMouseup="mouseup('vol_inc')" alt="vol_inc" />
			<area shape="rect" href="#" coords="18,220,47,257" onMousedown="mousedown()" onMouseup="mouseup('vol_dec')" alt="vol_dec" />
			<area shape="rect" href="#" coords="68,173,96,210" onMousedown="mousedown()" onMouseup="mouseup('prgm_inc')" alt="prgm_inc" />
			<area shape="rect" href="#" coords="68,220,96,257" onMousedown="mousedown()" onMouseup="mouseup('prgm_dec')" alt="prgm_dec" />
			<area shape="circle" href="#" coords="57,214,9" onMousedown="mousedown()" onMouseup="mouseup('mute')" alt="mute" />
			
			<area shape="rect" href="#" coords="6,274,29,293" onMousedown="mousedown()" onMouseup="mouseup('red')" alt="red" />
			<area shape="rect" href="#" coords="31,274,56,293" onMousedown="mousedown()" onMouseup="mouseup('blue')" alt="blue" />
			<area shape="rect" href="#" coords="59,274,83,293" onMousedown="mousedown()" onMouseup="mouseup('green')" alt="green" />
			<area shape="rect" href="#" coords="86,273,109,293" onMousedown="mousedown()" onMouseup="mouseup('yellow')" alt="yellow" />
			
			<area shape="rect" href="#" coords="4,213,38,339" onMousedown="mousedown()" onMouseup="mouseup('1')" alt="1" />
			<area shape="rect" href="#" coords="40,313,74,339" onMousedown="mousedown()" onMouseup="mouseup('2')" alt="2" />
			<area shape="rect" href="#" coords="76,313,110,339" onMousedown="mousedown()" onMouseup="mouseup('3')" alt="3" />
			<area shape="rect" href="#" coords="4,345,38,373" onMousedown="mousedown()" onMouseup="mouseup('4')" alt="4" />
			<area shape="rect" href="#" coords="40,345,74,373" onMousedown="mousedown()" onMouseup="mouseup('5')" alt="5" />
			<area shape="rect" href="#" coords="76,345,110,373" onMousedown="mousedown()" onMouseup="mouseup('6')" alt="6" />
			<area shape="rect" href="#" coords="4,380,38,406" onMousedown="mousedown()" onMouseup="mouseup('7')" alt="7" />
			<area shape="rect" href="#" coords="40,380,74,406" onMousedown="mousedown()" onMouseup="mouseup('8')" alt="8" />
			<area shape="rect" href="#" coords="76,380,110,406" onMousedown="mousedown()" onMouseup="mouseup('9')" alt="9" />
			<area shape="rect" href="#" coords="4,412,38,440" onMousedown="mousedown()" onMouseup="mouseup('play')" alt="play" />
			<area shape="rect" href="#" coords="40,412,74,440" onMousedown="mousedown()" onMouseup="mouseup('0')" alt="0" />
			<area shape="rect" href="#" coords="76,412,110,440" onMousedown="mousedown()" onMouseup="mouseup('stop')" alt="stop" />
		</map>
	</body>
</html>

<script>

var firstTimeStamp;
var code;
var hd;
var gotVariables = false;

function mousedown()
{
	var date = new Date();
	firstTimeStamp = date.getTime();
}

function mouseup(key)
{
	if(getItem("code") == null)
	{
		firstTimeStamp = 0;
		window.open("options.html");
	}
	else
	{
		var date = new Date();
		var secondTimeStamp = date.getTime();
		var difference = secondTimeStamp - firstTimeStamp;
	
		if(gotVariables != true)
		{
			code = getItem("code");
			hd = getItem("hd");
			gotVariables = true;
		}

		var req = null; 
		req = new XMLHttpRequest(); 

		if(difference >= 700)
			var longString = "&long=true";
		else
			var longString = "";
		
		req.open("GET", "http://" + hd + ".freebox.fr/pub/remote_control?code=" + code + "&key=" + key + longString, false); 
		req.send(null); 
		firstTimeStamp = 0;
	}
}

function getItem(key) {
    var value;
	value = window.localStorage.getItem(key);
    return value;
}
</script>
